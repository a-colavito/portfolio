<!DOCTYPE html>
<html lang="it" dir="auto">

<head><script src="/portfolio/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=portfolio/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Progetto Semplice Mappatura | Adolfo Colavito</title>
<meta name="keywords" content="">
<meta name="description" content="Inizio del progetto di mappatura delle risorse del Poliba con Leaflet">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/portfolio/it/projects/mappeleaflet/">
<link crossorigin="anonymous" href="/portfolio/assets/css/stylesheet.3fb3537f63cc1a4b436f6e8f2c04b9d6eb28f49c6fa71a94e6c72ce451d001a2.css" integrity="sha256-P7NTf2PMGktDb26PLAS51uso9JxvpxqU5scs5FHQAaI=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/portfolio/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/portfolio/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/portfolio/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/portfolio/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/portfolio/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="it" href="http://localhost:1313/portfolio/it/projects/mappeleaflet/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="http://localhost:1313/portfolio/it/projects/mappeleaflet/">
  <meta property="og:site_name" content="Adolfo Colavito">
  <meta property="og:title" content="Progetto Semplice Mappatura">
  <meta property="og:description" content="Inizio del progetto di mappatura delle risorse del Poliba con Leaflet">
  <meta property="og:locale" content="it">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2024-10-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-10-10T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Progetto Semplice Mappatura">
<meta name="twitter:description" content="Inizio del progetto di mappatura delle risorse del Poliba con Leaflet">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Projects",
      "item": "http://localhost:1313/portfolio/it/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Progetto Semplice Mappatura",
      "item": "http://localhost:1313/portfolio/it/projects/mappeleaflet/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Progetto Semplice Mappatura",
  "name": "Progetto Semplice Mappatura",
  "description": "Inizio del progetto di mappatura delle risorse del Poliba con Leaflet",
  "keywords": [
    
  ],
  "articleBody": " Qui puoi usare l'app Mappare le Biblioteche Questo progetto riguarda la visualizzazione delle mappe delle biblioteche di Ateneo, utilizzando le mappe di OpenStreetMap e la libreria JavaScript Leaflet.\nStruttura del progetto L’intero progetto è contenuto nella cartella SBAMappe, che include i file HTML per le quattro mappe delle biblioteche dell’Ateneo. All’interno di questa cartella, ci sono altre tre sottocartelle:\nDataset Script Style Cartella Dataset Questa cartella contiene la sottocartella Percorsi, che a sua volta include i file JS con le variabili (di nome identico al file) per inizializzare i dati GeoJSON relativi ai percorsi. Tutti i dati su punti, poligoni, risorse e percorsi vengono estratti da questi file.\nCartella Script La cartella Script contiene un unico file, MapLogic.js, che gestisce la logica delle mappe. Le principali funzionalità di questo file includono:\nCostruttore di mappa: una funzione che accetta parametri come centerCoordinates, zoomLevel, ecc., per impostare i layer di Leaflet e determinare come la biblioteca viene rappresentata sulla mappa e nel menu a tendina. Aggiunta di layer personalizzati alla mappa. Gestione del menu a tendina: permette di togglare il menu e inizializzare i percorsi, mostrando le informazioni relative alla biblioteca. Personalizzazione delle funzioni di Leaflet: estende la libreria Leaflet con personalizzazioni specifiche. La funzione costruttore semplifica l’inizializzazione della mappa, consentendo di inserire le personalizzazioni tramite parametri passati alla funzione initializeMap. Questo approccio rende il codice HTML più snello e facilita l’aggiunta di nuove risorse semplicemente richiamando lo script nel file HTML della nuova risorsa.\nCartella Style La cartella Style contiene il file SBACSS, che gestisce l’aspetto del menu delle mappe e implementa la classe .hidden, essenziale per il corretto funzionamento del toggle del menu insieme a MapLogic.js.\nIl foglio di stile include il colore del Politecnico di Bari per l’intestazione del menu e un font di prova (che può essere rimosso senza problemi per evitare conflitti).\nNota: La dimensione della mappa non è gestita nel foglio di stile, ma è definita direttamente nel file HTML per praticità.\nSingoli file HTML delle biblioteche I file HTML per ciascuna biblioteca sono molto semplici. Importano le librerie e i fogli di stile di Leaflet, quindi popolano il contenuto dell’HTML tramite la funzione initializeMap.\nTutti gli elementi nel menu a tendina vengono generati dalla funzione initializeMap. Inoltre, il menu e il contenitore della mappa sono strutturati in modo gerarchico, in modo che rimangano “attaccati” tra loro.\nUlteriori scelte e informazioni utili I percorsi sono stati creati utilizzando API di Google Maps. Il file MapLogic.js è stato commentato in modo dettagliato, poiché ci sono alcune situazioni in cui è stato necessario forzare il comportamento di Leaflet per sovrascrivere regole personalizzate (come marker rossi e percorsi con il colore del Politecnico di Bari). Le librerie sono importate dal web, ma potrebbe essere più efficiente scaricarle in locale su un server del Politecnico. Non essendo particolarmente esperto di sviluppo web, non posso dire quale soluzione sarebbe la migliore per ottimizzare il caricamento. Possibili sviluppi futuri per mappare l’intero Politecnico A mio parere, ci sono due opzioni per mappare l’intero Politecnico:\nUtilizzare le piantine CAD del Politecnico: queste potrebbero essere aggiunte come layer personalizzati su OpenStreetMap utilizzando Leaflet. Estrarre i dati GeoJSON dall’applicazione BeFreeCampus: fare un porting dell’app in chiave web, eventualmente come WebApp o utilizzando soluzioni come Flutter / React Native per renderla disponibile su più dispositivi. Entrambe le opzioni offrono vantaggi e svantaggi. La scelta di estrarre i dati GeoJSON e mappare il Politecnico tramite codice offre grande modularità e facilità nel modificare la posizione delle risorse (ad esempio, se gli uffici vengono spostati, non è necessario richiedere una nuova piantina, basta modificare il codice). D’altra parte, implementare la mappa utilizzando le piantine offre maggiore visibilità sugli accessi, come scale e ascensori, e permetterebbe di inserire risorse in un contesto dettagliato.\nEntrambe le soluzioni permetterebbero di mappare ogni piano e migliorare la referenziazione delle risorse, sia in termini di accessibilità che di supporto per utenti esterni e interni nella ricerca delle strutture.\nLa combinazione di Leaflet e OpenStreetMap fornisce un framework solido per entrambe le soluzioni.\nContatti Per qualsiasi richiesta di informazioni, Inviami un’email.\n",
  "wordCount" : "677",
  "inLanguage": "it",
  "datePublished": "2024-10-10T00:00:00Z",
  "dateModified": "2024-10-10T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/portfolio/it/projects/mappeleaflet/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Adolfo Colavito",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/portfolio/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/portfolio/it/" accesskey="h" title="&lt; Adolfo Colavito /&gt; (Alt + H)">&lt; Adolfo Colavito /&gt;</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/portfolio/en/" title="English"
                            aria-label="English">En</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/portfolio/it/about/" title="Chi sono">
                    <span>Chi sono</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/portfolio/it/projects/" title="Progetti">
                    <span>Progetti</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/portfolio/it/blogs/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/portfolio/it/contacts/" title="Contatti">
                    <span>Contatti</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/portfolio/it/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/portfolio/it/projects/">Projects</a></div>
    <h1 class="post-title entry-hint-parent">
      Progetto Semplice Mappatura
    </h1>
    <div class="post-description">
      Inizio del progetto di mappatura delle risorse del Poliba con Leaflet
    </div>
    <div class="post-meta"><span title='2024-10-10 00:00:00 +0000 UTC'>ottobre 10, 2024</span>&nbsp;·&nbsp;4 minuti

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Indice contenuti</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#mappare-le-biblioteche" aria-label="Mappare le Biblioteche">Mappare le Biblioteche</a><ul>
                        
                <li>
                    <a href="#struttura-del-progetto" aria-label="Struttura del progetto">Struttura del progetto</a><ul>
                        
                <li>
                    <a href="#cartella-dataset" aria-label="Cartella Dataset">Cartella Dataset</a></li>
                <li>
                    <a href="#cartella-script" aria-label="Cartella Script">Cartella Script</a></li>
                <li>
                    <a href="#cartella-style" aria-label="Cartella Style">Cartella Style</a></li>
                <li>
                    <a href="#singoli-file-html-delle-biblioteche" aria-label="Singoli file HTML delle biblioteche">Singoli file HTML delle biblioteche</a></li></ul>
                </li>
                <li>
                    <a href="#ulteriori-scelte-e-informazioni-utili" aria-label="Ulteriori scelte e informazioni utili">Ulteriori scelte e informazioni utili</a></li>
                <li>
                    <a href="#possibili-sviluppi-futuri-per-mappare-lintero-politecnico" aria-label="Possibili sviluppi futuri per mappare l&rsquo;intero Politecnico">Possibili sviluppi futuri per mappare l&rsquo;intero Politecnico</a></li>
                <li>
                    <a href="#contatti" aria-label="Contatti">Contatti</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><img src="https://res.cloudinary.com/dkkvkj82k/image/upload/v1749552452/Screenshot_2025-06-10_alle_12.46.47_hqonwp.png" style="width: 100%; height: 30%" >
<a href="https://mappegeneral.netlify.app"> Qui puoi usare l'app </a>
<h1 id="mappare-le-biblioteche">Mappare le Biblioteche<a hidden class="anchor" aria-hidden="true" href="#mappare-le-biblioteche">#</a></h1>
<p>Questo progetto riguarda la visualizzazione delle mappe delle biblioteche di Ateneo, utilizzando le mappe di <strong>OpenStreetMap</strong> e la libreria JavaScript <strong>Leaflet</strong>.</p>
<h2 id="struttura-del-progetto">Struttura del progetto<a hidden class="anchor" aria-hidden="true" href="#struttura-del-progetto">#</a></h2>
<p>L&rsquo;intero progetto è contenuto nella cartella <strong>SBAMappe</strong>, che include i file HTML per le quattro mappe delle biblioteche dell&rsquo;Ateneo. All&rsquo;interno di questa cartella, ci sono altre tre sottocartelle:</p>
<ul>
<li><strong>Dataset</strong></li>
<li><strong>Script</strong></li>
<li><strong>Style</strong></li>
</ul>
<h3 id="cartella-dataset">Cartella <strong>Dataset</strong><a hidden class="anchor" aria-hidden="true" href="#cartella-dataset">#</a></h3>
<p>Questa cartella contiene la sottocartella <strong>Percorsi</strong>, che a sua volta include i file JS con le variabili (di nome identico al file) per inizializzare i dati <strong>GeoJSON</strong> relativi ai percorsi. Tutti i dati su punti, poligoni, risorse e percorsi vengono estratti da questi file.</p>
<h3 id="cartella-script">Cartella <strong>Script</strong><a hidden class="anchor" aria-hidden="true" href="#cartella-script">#</a></h3>
<p>La cartella <strong>Script</strong> contiene un unico file, <strong>MapLogic.js</strong>, che gestisce la logica delle mappe. Le principali funzionalità di questo file includono:</p>
<ul>
<li><strong>Costruttore di mappa</strong>: una funzione che accetta parametri come <code>centerCoordinates</code>, <code>zoomLevel</code>, ecc., per impostare i layer di Leaflet e determinare come la biblioteca viene rappresentata sulla mappa e nel menu a tendina.</li>
<li><strong>Aggiunta di layer personalizzati</strong> alla mappa.</li>
<li><strong>Gestione del menu a tendina</strong>: permette di togglare il menu e inizializzare i percorsi, mostrando le informazioni relative alla biblioteca.</li>
<li><strong>Personalizzazione delle funzioni di Leaflet</strong>: estende la libreria Leaflet con personalizzazioni specifiche.</li>
</ul>
<p>La funzione costruttore semplifica l&rsquo;inizializzazione della mappa, consentendo di inserire le personalizzazioni tramite parametri passati alla funzione <strong>initializeMap</strong>. Questo approccio rende il codice HTML più snello e facilita l&rsquo;aggiunta di nuove risorse semplicemente richiamando lo script nel file HTML della nuova risorsa.</p>
<h3 id="cartella-style">Cartella <strong>Style</strong><a hidden class="anchor" aria-hidden="true" href="#cartella-style">#</a></h3>
<p>La cartella <strong>Style</strong> contiene il file <strong>SBACSS</strong>, che gestisce l&rsquo;aspetto del menu delle mappe e implementa la classe <code>.hidden</code>, essenziale per il corretto funzionamento del toggle del menu insieme a <strong>MapLogic.js</strong>.</p>
<p>Il foglio di stile include il colore del Politecnico di Bari per l&rsquo;intestazione del menu e un font di prova (che può essere rimosso senza problemi per evitare conflitti).</p>
<p><strong>Nota:</strong> La dimensione della mappa non è gestita nel foglio di stile, ma è definita direttamente nel file HTML per praticità.</p>
<h3 id="singoli-file-html-delle-biblioteche">Singoli file HTML delle biblioteche<a hidden class="anchor" aria-hidden="true" href="#singoli-file-html-delle-biblioteche">#</a></h3>
<p>I file HTML per ciascuna biblioteca sono molto semplici. Importano le librerie e i fogli di stile di Leaflet, quindi popolano il contenuto dell&rsquo;HTML tramite la funzione <strong>initializeMap</strong>.</p>
<p>Tutti gli elementi nel menu a tendina vengono generati dalla funzione <strong>initializeMap</strong>. Inoltre, il menu e il contenitore della mappa sono strutturati in modo gerarchico, in modo che rimangano &ldquo;attaccati&rdquo; tra loro.</p>
<h2 id="ulteriori-scelte-e-informazioni-utili">Ulteriori scelte e informazioni utili<a hidden class="anchor" aria-hidden="true" href="#ulteriori-scelte-e-informazioni-utili">#</a></h2>
<ul>
<li>I percorsi sono stati creati utilizzando API di Google Maps.</li>
<li>Il file <strong>MapLogic.js</strong> è stato commentato in modo dettagliato, poiché ci sono alcune situazioni in cui è stato necessario forzare il comportamento di Leaflet per sovrascrivere regole personalizzate (come marker rossi e percorsi con il colore del Politecnico di Bari).</li>
<li>Le librerie sono importate dal web, ma potrebbe essere più efficiente scaricarle in locale su un server del Politecnico. Non essendo particolarmente esperto di sviluppo web, non posso dire quale soluzione sarebbe la migliore per ottimizzare il caricamento.</li>
</ul>
<h2 id="possibili-sviluppi-futuri-per-mappare-lintero-politecnico">Possibili sviluppi futuri per mappare l&rsquo;intero Politecnico<a hidden class="anchor" aria-hidden="true" href="#possibili-sviluppi-futuri-per-mappare-lintero-politecnico">#</a></h2>
<p>A mio parere, ci sono due opzioni per mappare l&rsquo;intero Politecnico:</p>
<ol>
<li><strong>Utilizzare le piantine CAD del Politecnico</strong>: queste potrebbero essere aggiunte come layer personalizzati su OpenStreetMap utilizzando Leaflet.</li>
<li><strong>Estrarre i dati GeoJSON dall&rsquo;applicazione BeFreeCampus</strong>: fare un porting dell&rsquo;app in chiave web, eventualmente come WebApp o utilizzando soluzioni come Flutter / React Native  per renderla disponibile su più dispositivi.</li>
</ol>
<p>Entrambe le opzioni offrono vantaggi e svantaggi. La scelta di estrarre i dati GeoJSON e mappare il Politecnico tramite codice offre grande modularità e facilità nel modificare la posizione delle risorse (ad esempio, se gli uffici vengono spostati, non è necessario richiedere una nuova piantina, basta modificare il codice). D&rsquo;altra parte, implementare la mappa utilizzando le piantine offre maggiore visibilità sugli accessi, come scale e ascensori, e permetterebbe di inserire risorse in un contesto dettagliato.</p>
<p>Entrambe le soluzioni permetterebbero di mappare ogni piano e migliorare la referenziazione delle risorse, sia in termini di accessibilità che di supporto per utenti esterni e interni nella ricerca delle strutture.</p>
<p>La combinazione di Leaflet e OpenStreetMap fornisce un framework solido per entrambe le soluzioni.</p>
<h2 id="contatti">Contatti<a hidden class="anchor" aria-hidden="true" href="#contatti">#</a></h2>
<p>Per qualsiasi richiesta di informazioni, <a href="mailto:adolfocolavito@hotmail.it">Inviami un&rsquo;email</a>.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="next" href="http://localhost:1313/portfolio/it/projects/project1/">
    <span class="title">Successivo »</span>
    <br>
    <span>React Website</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/portfolio/it/">Adolfo Colavito</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copia';

        function copyingDone() {
            copybutton.innerHTML = 'copiato!';
            setTimeout(() => {
                copybutton.innerHTML = 'copia';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
